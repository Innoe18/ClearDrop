{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h4 mb-0">Dashboard</h1>
  <a class="btn btn-dark btn-sm" href="{{ url_for('dash.devices') }}">Add / Manage Devices</a>
</div>

{% if devices|length == 0 %}
  <div class="alert alert-info">
    No devices yet. Add your first ClearDrop device to start receiving telemetry.
  </div>
{% else %}
  <div class="row g-3">
    {% for d in devices %}
      <div class="col-md-6">
        <div class="card shadow-sm">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <div>
                <h2 class="h5 mb-1">{{ d.nickname }}</h2>
                <div class="text-muted small">Device ID: {{ d.device_id }}</div>
              </div>
              <span class="badge bg-secondary align-self-start">No live data yet</span>
            </div>
            <hr>
            <div class="small text-muted">
              Next step: PubNub ingest + show latest temperature/TDS + alerts.
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}
{% endblock %}
